<html>
    <head>
        <title>Diceware Password Generator</title>

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="HandheldFriendly" content="True" />
        <meta http-equiv="cleartype" content="on" />

        <script src="diceware.js"></script>
        <script>
            //the nastiest js you've ever seen, but hey: 
            //it's cross-browser and saves us the overhead of jQuery
            function randomHexNum() {
                return Math.floor(Math.random()*17).toString(16);
            }

            window.onload = function() {
                var submit = document.getElementById('generate');
                //below: getting by classname has better compatibility for reading value than getting by id
                var number = document.getElementsByClassName("number")[0];
                var result = document.getElementById('result');
                var help   = document.getElementById('help');

                submit.onclick = function() {
                    var string = "";
                    var passwords = diceware(number.value);
                    for(var i = 0, len = passwords.length;  i < len; i++) {
                        string += '<span class="word" style="color:#' + (i % 2 == 0 ? '911' : '0b7') + ';">' + passwords[i] + '</span>';
                    }
                    result.innerHTML = string;
                    //help.style.display = "block";
                };
            };
        </script>
        <style>
            body {
                max-width: 44em;
                margin: 0 auto;
                line-height: 1.45;
                font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
            }
            label {
                display: block;
            }

            label i {
                display: block;
                letter-spacing: .04px;
            }

            h1 {
                margin-bottom: .5em;
                margin-top: 1em;
                font-weight: 900;
            }

            p {
                margin: 1em 0 0 0;
            }

            h1 + p {
                margin-top: 0;
                margin-bottom: 1em;
            }

            section {
                margin-bottom: 0;
                margin-top: 2em;
            }

            .word {
                display: inline-block;
            }
        </style>
    </head>
    <body>
        <section>
            <h1>Overview</h1>
            <p>This app generates passwords based on the <a href="http://world.std.com/~reinhold/diceware.html">Diceware Password Methodology</a>, which creates passwords made mostly of <strong>random words instead of random characters and symbols</strong>. This makes the passwords both more secure (because there are about 85,000 possible words compared to 90 possible symbols) and easier to remember&mdash;no more "hek2aCa87x.;s"-style passwords. The downside is that it makes your passwords somewhat longer, but it&rsquo;s totally worth it.</p>

            <p>Below, all the calculations for generating a password are done on your computer&mdash;the password is never sent over the internet&mdash;so using this page is secure. The curious can also <a href="https://github.com/ethanresnick/diceware-js">inspect the code</a>.</p>
        </section>
        <section>
            <h1>Generate a Password</h1>

            <label for="number">
                How many words do you want in your password? <i>(5 is a safe number; it&rsquo;ll give you security roughly equal to a password of 12 random characters.)</i>
            </label>
            <input type="number" value="5" class="number" id="number" />
            <input type="submit" value="Generate!" id="generate" />

            <p><strong>Result: </strong><span id="result"><span style="color:#888;">A new password will appear here each time you click "Generate!".</span></span></p>
            <p style="display:none;" id="help">(Each word is colored differently so the password is easier to read and memorize.)</p>
        </section>

    </body>
</html>